<!DOCTYPE html>
<html>
<head>
	<title>Search Users Profile</title>
	<link rel="stylesheet" type="text/css" href="SearchUsers.css">
</head>
<body>
 <h1> Add a new user, it's fast and easy...</h1>
    <form>
    Fullname<br><input  id="fullname" value="" ><p></p>
    Stack<br><input  id="stack" value="" ><p></p>
    Email-Address<br><input id="email" ><p></p>
    Phone Number<br><input  id="phone" ><p></p>
    Image<br><input  id="pics"><p></p>


    <button onClick="AddNewUser()" > Add new user +</button>
   </form>
   <input type="search" name="" placeholder="Seach By name"><button>Search Profile</button>
    <p></p>
    <p></p>
    <div id="UsersProfileWrapper"></div>

    <script>
        
        UsersProfile =JSON.parse(localStorage.getItem("random"))
       if(UsersProfile == null)
       {
        UsersProfile = [];

       }
       

        function AddNewUser()
        {
            newUser = 
            { 
              "fullname" : document.getElementById("fullname").value,
               "stack" : document.getElementById("stack").value,
               "email" : document.getElementById("email").value,
               "phone" : document.getElementById("phone").value,
               "pics" : document.getElementById("pics").value

             }
             UsersProfile.push(newUser)
        
 
            localStorage.setItem("random",JSON.stringify(UsersProfile))

            displayUsers()

        }

        function displayUsers(){
       
       usersPlaceholder =  '';
      for (i=0; i<UsersProfile.length;i++)
      {

          if(UsersProfile[i]!=null || UsersProfile[i]!=undefined )
          {
          usersPlaceholder +=`<div class="users-profile">
                  <img src="/Assets/Images/1.png">
                    <div class="input-wrapper">
                          <label>Fullname&nbsp;<i class="fas fa-user"></i></label><br>
                          <input type="text" name="" value="${UsersProfile[i].fullname}" readonly><br>
                          <label>Stack&nbsp;<i class="fas fa-address-card"></i></label><br>
                          <input type="text" name="" value="${UsersProfile[i].stack}" readonly><br>
                          <label>E-mail Address&nbsp;<i class="fas fa-envelope"></i></label><br>
                          <input type="email" name="" value="${UsersProfile[i].email}" readonly><br>
                          <label>Phone Number&nbsp;<i class="fas fa-phone"></i></label><br>
                          <input type="text" name="" value="${UsersProfile[i].phone}" readonly><br>
                          <label>Image&nbsp;<i class="fas fa-phone"></i></label><br>
                          <input type="text" name="" value="${UsersProfile[i].pics}" readonly><p></p>
                          <button class="edit" onclick="EditUser(${i})">Edit</button> <button class="delete" onclick="DeleteUser(${i})">Delete</button>
                    </div>
                  </div>
                  <div class="separator"></div>`}


      }
      document.getElementById("UsersProfileWrapper").innerHTML = usersPlaceholder
}

displayUsers()

        function DeleteUser(id)
        {
            

            newUser = 
            { "fullName" : document.getElementById("fullname").value,
               "stack" : document.getElementById("stack").value,
               "email" : document.getElementById("email").value,
               "phone" : document.getElementById("phone").value,
               "pics" : document.getElementById("pics").value

             }
             UsersProfile.splice(id,1)
        
 
            localStorage.removeItem("random",JSON.stringify(UsersProfile))

            displayUsers()

        }

function EditUser(id)
{
         newUser  = 
        {                                               
          // "fullname" :prompt("Change fullname",UsersProfile[id].fullname),
          "fullname" :document.getElementById('fullname').value,
          "stack" :prompt("Change stack",UsersProfile[id].stack),
          "email" : prompt("Change email",UsersProfile[id].email),
          "phone" : prompt("Change phone",UsersProfile[id].phone),
          "pics" : prompt("Change profile pics",UsersProfile[id].pics)

        }
        UsersProfile[id] = newUser;
        displayUsers()
 

        localStorage.setItem("random",JSON.stringify(UsersProfile))
}
    </script>
    
</body>
</html>